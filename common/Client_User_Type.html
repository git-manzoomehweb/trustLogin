<basis core="group" name="check-dmn" if="[##cms.cms.domainid##] in ('4865')">
    <basis core="dbsource" source="trust_login8" mid="24" name="db" lid="1" rkey="[##cms.cookie.rkey##]">
        <member name="useridmain" type="scalar" request="userid" preview="" />
    </basis>
    <basis core="external.fly.ws" source="cmsDbService2" name="db" procedurename="dbsource">
        <member method="cms" name="get_account_type" query='{
            "name": "db",
            "mid": "20",
            "member": [
                {
                    "type": "list",
                    "name": "credit",
                    "request": "get_account_type",
                    "userid": "[##db.useridmain.userid##]",
                    "dmnid": "[##cms.cms.domainid##]"
                }
            ]
        } ' />
    </basis>
    [##db.get_account_type.result##]

</basis>

<basis core="group" name="check-dmn" if="[##cms.cms.domainid##] not in ('4865')">
    <basis core="call" file="Client_CheckRkey.inc"></basis>
    <basis core="group" name="valid-rkey" if="'[##db.checkrkey.checked##]'='true'">
        <basis core="external.fly.ws" source="cmsDbService2" name="db" procedurename="dbsource">
            <member method="cms" name="get_account_type" query='{
                "name": "db",
                "mid": "20",
                "member": [
                    {
                        "type": "list",
                        "name": "credit",
                        "request": "get_account_type",
                        "userid": "[##db.checkrkey.userid##]",
                        "dmnid": "[##cms.cms.domainid##]"
                    }
                ]
            } ' />
        </basis>
        [##db.get_account_type.result##]
    </basis>
</basis>